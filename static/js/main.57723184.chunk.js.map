{"version":3,"sources":["images/header-logo.svg","components/Header.js","utils/Api.js","contexts/CurrentUserContext.js","components/Card.js","components/Loader.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headerLogoPath","alt","api","token","url","cohortId","this","_token","_url","_cohortId","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","checkResponse","name","link","method","body","JSON","stringify","cardId","isLike","userData","avatar","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","aria-label","onClick","length","Loader","Main","onEditAvatar","onEditProfile","onAddPlace","cards","isCardsLoading","about","map","Footer","Date","getFullYear","PopupWithForm","title","buttonText","children","isOpen","onClose","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","autoComplete","required","minLength","maxLength","value","undefined","onChange","target","id","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","ref","AddPlacePopup","setLink","ImagePopup","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setIsCardsLoading","setCurrentUser","React","all","getUserInfo","getCards","cardData","setCards","catch","err","console","log","finally","closeAllPopups","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","newAvatarUrl","updataAvatar","userInfo","setUserInfo","newUserInfo","addCard","addedNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57723184.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import headerLogoPath from '../images/header-logo.svg';\r\n\r\nexport function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={headerLogoPath} alt=\"Логотип Mesto Russia\" />\r\n    </header>\r\n  )\r\n}\r\n","export default class Api {\r\n  constructor(token, url, cohortId) {\r\n    this._token = token;\r\n    this._url = url;\r\n    this._cohortId = cohortId;\r\n  }\r\n\r\n  //проверяем ответ сервера\r\n  checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    // если ошибка, отклоняем промис\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  //Получаем карточки с сервера\r\n  getCards() {\r\n    return fetch(`${this._url}${this._cohortId}/cards`, {\r\n        headers: {\r\n          authorization: this._token\r\n        }\r\n      })\r\n      .then(this.checkResponse)\r\n  }\r\n\r\n  //Добавляем карточку на сервер\r\n  addCard({\r\n    name,\r\n    link\r\n  }) {\r\n    return fetch(`${this._url}${this._cohortId}/cards`, {\r\n        method: 'POST',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          name,\r\n          link\r\n        })\r\n      })\r\n      .then(this.checkResponse)\r\n  }\r\n\r\n  //Метод удаления карточки\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}${this._cohortId}/cards/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._token\r\n        }\r\n      })\r\n      .then(this.checkResponse);\r\n  }\r\n\r\n  //Метод изменения статуса лайка\r\n  changeLikeCardStatus(cardId, isLike) {\r\n    return fetch(`${this._url}/${this._cohortId}/cards/likes/${cardId}`, {\r\n        method: isLike ? 'PUT' : 'DELETE',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      })\r\n      .then(this.checkResponse);\r\n  }\r\n\r\n  //Получаем данные пользователя с сервера\r\n  getUserInfo() {\r\n    return fetch(`${this._url}${this._cohortId}/users/me`, {\r\n        headers: {\r\n          authorization: this._token\r\n        }\r\n      })\r\n      .then(this.checkResponse);\r\n  }\r\n\r\n  //Отправляем данные пользователя на сервер\r\n  setUserInfo(userData) {\r\n    return fetch(`${this._url}${this._cohortId}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userData)\r\n      })\r\n      .then(this.checkResponse)\r\n  }\r\n\r\n  //Обновляем аватар пользователя\r\n  updataAvatar(avatar) {\r\n    return fetch(`${this._url}${this._cohortId}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(avatar)\r\n      })\r\n      .then(this.checkResponse)\r\n  }\r\n}\r\n\r\nexport const api = new Api('233fa192-0365-43b1-9635-9ca57a07d48d', 'https://mesto.nomoreparties.co/v1/', 'cohort-20');\r\n","import {\r\n  createContext\r\n} from 'react';\r\nexport const CurrentUserContext = createContext();\r\n","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport function Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `place-card__delete-button ${isOwn ? 'place-card__delete-button_visible.css' : 'place-card__delete-button_hidden'}`\r\n  );\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `place-card__like-button ${isLiked && 'place-card__like-button_active'}`;\r\n\r\n  const handelClick = () => {\r\n    onCardClick(card);\r\n  }\r\n\r\n  const handleLikeClick = () => {\r\n    onCardLike(card);\r\n  }\r\n\r\n  const handleDeleteClick = () => {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"place-card\">\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Удалить карточку\"\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      />\r\n      <img className=\"place-card__photo\" src={card.link}\r\n        alt={card.name} onClick={handelClick} />\r\n      <div className=\"place-card__photo-description\">\r\n        <h2 className=\"place-card__photo-name\">{card.name}</h2>\r\n        <div className=\"place-card__like-section\">\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Поставить лайк\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          />\r\n          <span className=\"place-card__like-count\">{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n","export function Loader() {\r\n  return(\r\n    <div className=\"loader\">\r\n      <div className=\"loader__circle\">\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { api } from '../utils/Api';\r\nimport { Card } from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { Loader} from './Loader';\r\n\r\nexport function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  cards,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n  isCardsLoading\r\n}) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__information\">\r\n          <div className=\"profile__avatar\">\r\n            <img className=\"profile__avatar-picture\" src={currentUser.avatar}\r\n              alt={currentUser.name} />\r\n            <button\r\n              type=\"button\"\r\n              aria-label=\"Изменить изображение профиля\"\r\n              className=\"profile__avatar-edit\"\r\n              onClick={onEditAvatar}\r\n            />\r\n          </div>\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Редактировать информацию профиля\"\r\n            className=\"profile__edit-button\"\r\n            onClick={onEditProfile}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Добавить новую карточку\"\r\n            className=\"profile__add-button\"\r\n            onClick={onAddPlace}\r\n          />\r\n        </div>\r\n      </section>\r\n      <section className=\"galery\">\r\n\r\n        {isCardsLoading && <Loader />}\r\n\r\n        <ul className=\"galery__places\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","export function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport function PopupWithForm({ name, title, buttonText, children, isOpen, onClose, onSubmit }) {\r\n\r\n  //TODO: Доделать закрытие по Esc и оверлею\r\n\r\n  return (\r\n    <section className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__container popup__container_profile\">\r\n        <form name={name} noValidate onSubmit={onSubmit}>\r\n          <h3 className=\"popup__title\">{title}</h3>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__save-button popup__save-button_profile\">{buttonText}</button>\r\n        </form>\r\n        <button type=\"button\" aria-label=\"Закрыть окно\" className=\"popup__close-button\" onClick={onClose} />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile-edit\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__inputs\">\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"name-of-user\"\r\n          className=\"popup__input popup__input_type_name\"\r\n          autoComplete=\"off\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name === undefined ? \"\" : name}\r\n          onChange={handleNameChange}\r\n        />\r\n\r\n        <span className=\"popup__error-message\" id=\"name-of-user-error\" />\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"description\"\r\n          className=\"popup__input popup__input_type_description\"\r\n          autoComplete=\"off\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description === undefined ? \"\" : description}\r\n          onChange={handleDescriptionChange}\r\n        />\r\n\r\n        <span className=\"popup__error-message\" id=\"description-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { PopupWithForm } from './PopupWithForm';\r\nimport { useRef, useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n\r\n  const avatarRef = useRef();\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    avatarRef.current.value = currentUser.avatar;\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    // Передаём значениe во внешний обработчик\r\n    onUpdateAvatar(avatarRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"update-avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__inputs\">\r\n        <input\r\n          type=\"url\"\r\n          name=\"avatar-url\"\r\n          className=\"popup__input popup__input_type_avatar-url\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"url\"\r\n          required minLength=\"2\"\r\n          maxLength=\"\"\r\n          ref={avatarRef}\r\n        />\r\n        <span className=\"popup__error-message\" id=\"avatar-url-error\" />\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  const handleLinkChange = (e) => {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({ name, link });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__inputs\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"name-of-place\"\r\n          className=\"popup__input popup__input_type_place-name\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Название\"\r\n          required minLength=\"2\"\r\n          maxLength=\"30\"\r\n          value={name === undefined ? \"\" : name}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__error-message\" id=\"name-of-place-error\" />\r\n        <input\r\n          type=\"url\"\r\n          name=\"image-url\"\r\n          className=\"popup__input popup__input_type_image-link\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          value={link === undefined ? \"\" : link}\r\n          onChange={handleLinkChange}\r\n        />\r\n        <span className=\"popup__error-message\" id=\"image-url-error\" />\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","export function ImagePopup({ card, onClose }) {\r\n\r\n  return (\r\n    <section className={`popup ${card && \"popup_opened\"}`} id=\"fullSizeImage\">\r\n      <div className=\"popup__image-container\">\r\n        <figure className=\"popup__image-group\">\r\n          <img className=\"popup__image\" src={card != null ? card.link : undefined} alt={card?.name} />\r\n          <figcaption className=\"popup__image-title\">{card?.name}</figcaption>\r\n        </figure>\r\n        <button type=\"button\" aria-label=\"Закрыть окно\" className=\"popup__close-button\" onClick={onClose}></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Header } from './Header';\r\nimport { Main } from './Main';\r\nimport { Footer } from './Footer';\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { EditProfilePopup } from './EditProfilePopup';\r\nimport { EditAvatarPopup } from './EditAvatarPopup';\r\nimport { AddPlacePopup } from './AddPlacePopup';\r\nimport { ImagePopup } from './ImagePopup';\r\n\r\nimport { api } from '../utils/Api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [isCardsLoading, setIsCardsLoading] = useState(false);\r\n\r\n  //Стейт данных текущего пользователя\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  React.useEffect(() => {\r\n    setIsCardsLoading(true);\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n      .then(([userData, cardData]) => {\r\n        setCurrentUser(userData);\r\n        setCards(cardData);\r\n      }).catch(err => console.log(err)).finally(() => {\r\n        setIsCardsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  const handleUpdateUser = (userInfo) => {\r\n    api.setUserInfo(userInfo).then((newUserInfo) => {\r\n      setCurrentUser(newUserInfo);\r\n      closeAllPopups();\r\n    })\r\n  }\r\n\r\n  const handleUpdateAvatar = (newAvatarUrl) => {\r\n    console.log(newAvatarUrl);\r\n    api.updataAvatar({ avatar: newAvatarUrl }).then(() => {\r\n      currentUser.avatar = newAvatarUrl;\r\n      closeAllPopups();\r\n    })\r\n  }\r\n\r\n  const [cards, setCards] = useState([]);\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    debugger;\r\n    api.deleteCard(card._id).then(\r\n      () => {\r\n\r\n        setCards((state) => {\r\n          return state.filter((c) => c._id !== card._id);\r\n        });\r\n\r\n      }\r\n    )\r\n  }\r\n\r\n  const handleAddPlaceSubmit = (newCard) => {\r\n    api.addCard(newCard).then((addedNewCard) => {\r\n      setCards([addedNewCard, ...cards])\r\n    }).then(() => {\r\n      closeAllPopups();\r\n    })\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App\">\r\n        <div className=\"page\">\r\n          <div className=\"page__content\">\r\n            <Header />\r\n\r\n            <Main\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n              isCardsLoading={isCardsLoading}\r\n            />\r\n\r\n            <Footer />\r\n\r\n            <EditAvatarPopup\r\n              isOpen={isEditAvatarPopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateAvatar={handleUpdateAvatar}\r\n            />\r\n\r\n            <EditProfilePopup\r\n              isOpen={isEditProfilePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateUser={handleUpdateUser}\r\n            />\r\n\r\n            <AddPlacePopup\r\n              isOpen={isAddPlacePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onAddPlace={handleAddPlaceSubmit}\r\n            />\r\n\r\n            <PopupWithForm name=\"delete-confirm\" title=\"Вы уверены?\" buttonText=\"Да\" onClose={closeAllPopups} />\r\n\r\n            <ImagePopup\r\n              card={selectedCard}\r\n              onClose={closeAllPopups}\r\n            />\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}